{% extends 'base.html.twig' %}

{% block title %}Transactions / Banque{% endblock %}

{% block body %}
  <h1 class="text-3xl font-semibold text-gray-900 mb-6 text-center">Transactions / Banque</h1>

  <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 mb-10">
    <div class="bg-white rounded shadow p-4 text-center">
      <h2 class="text-sm text-gray-500">Solde consolidé</h2>
      <p class="text-2xl font-bold text-green-600">€125 430,00</p>
    </div>
    <div class="bg-white rounded shadow p-4 text-center">
      <h2 class="text-sm text-gray-500">Dépenses totales</h2>
      <p class="text-2xl font-bold text-red-600">€89 750,00</p>
    </div>
    <div class="bg-white rounded shadow p-4 text-center">
      <h2 class="text-sm text-gray-500">Bénéfice net</h2>
      <p class="text-2xl font-bold text-indigo-600">€35 680,00</p>
    </div>
    <div class="bg-white rounded shadow p-4 text-center">
      <h2 class="text-sm text-gray-500">Solde bancaire</h2>
      <p class="text-2xl font-bold text-gray-800">€210 912,50</p>
    </div>
  </div>

  <div class="flex flex-wrap gap-4 mb-6 justify-center items-center">
    <input type="date" class="border border-gray-300 rounded px-3 py-2 text-sm" placeholder="Date début">
    <input type="date" class="border border-gray-300 rounded px-3 py-2 text-sm" placeholder="Date fin">
    <select class="border border-gray-300 rounded px-3 py-2 text-sm">
      <option>Statut</option>
      <option>Réconcilié</option>
      <option>Besoin d’examen</option>
      <option>Non classé</option>
    </select>
    <select class="border border-gray-300 rounded px-3 py-2 text-sm">
      <option>Type</option>
      <option>Revenu</option>
      <option>Dépense</option>
      <option>Logiciel</option>
      <option>Fournitures</option>
    </select>
  </div>

  {% set transactions = [
    {
      'date': '15 Jan 2025',
      'desc': 'Achat fournitures de bureau',
      'cat': 'Fournitures de bureau',
      'montant': '-€124,50',
      'statut': 'Besoin d’un examen'
    },
    {
      'date': '14 Jan 2025',
      'desc': 'Paiement',
      'cat': 'Revenus',
      'montant': '+€2 300,00',
      'statut': 'Réconcilié'
    },
    {
      'date': '13 Jan 2025',
      'desc': 'Abonnement Figma',
      'cat': 'Logiciel',
      'montant': '-€75,00',
      'statut': 'Besoin d’un examen'
    },
    {
      'date': '10 Jan 2025',
      'desc': 'QuickBooks',
      'cat': 'Non classé',
      'montant': '-€40,00',
      'statut': 'Non classé'
    },
    {
      'date': '8 Jan 2025',
      'desc': 'Paiement client',
      'cat': 'Revenu',
      'montant': '+€5 000,00',
      'statut': 'Réconcilié'
    }
  ] %}

  <table class="min-w-full text-sm text-left">
    <thead class="bg-gray-100 text-gray-600 uppercase">
      <tr>
        <th class="px-4 py-2">Date</th>
        <th class="px-4 py-2">Description</th>
        <th class="px-4 py-2">Catégorie</th>
        <th class="px-4 py-2">Montant</th>
        <th class="px-4 py-2">Statut</th>
      </tr>
    </thead>
    <tbody>
      {% for t in transactions %}
        <tr class="border-t">
          <td class="px-4 py-2">{{ t.date }}</td>
          <td class="px-4 py-2">{{ t.desc }}</td>
          <td class="px-4 py-2">{{ t.cat }}</td>
          <td class="px-4 py-2 {% if '-' in t.montant %}text-red-600{% else %}text-green-600{% endif %}">{{ t.montant }}</td>
          <td class="px-4 py-2">
            {% if t.statut == 'Réconcilié' %}
              <span class="bg-green-100 text-green-800 text-xs px-2 py-1 rounded-full">{{ t.statut }}</span>
            {% elseif t.statut == 'Besoin d’un examen' %}
              <span class="bg-yellow-100 text-yellow-800 text-xs px-2 py-1 rounded-full">{{ t.statut }}</span>
            {% else %}
              <span class="bg-gray-200 text-gray-800 text-xs px-2 py-1 rounded-full">{{ t.statut }}</span>
            {% endif %}
          </td>
        </tr>
      {% endfor %}
    </tbody>
  </table>
{% endblock %}
