{% extends 'base.html.twig' %}

{% block title %}Gestion des Entreprises{% endblock %}

{% block body %}
  <h1 class="text-3xl font-semibold text-gray-900 mb-6 text-center">Gestion des Entreprises</h1>

  <!-- Barre de recherche + filtres + bouton -->
  <div class="flex flex-wrap justify-between items-center mb-6 gap-4">
    <input type="text" placeholder="Rechercher par nom ou ID" class="border border-gray-300 rounded px-4 py-2 text-sm w-full sm:w-1/3">

    <div class="flex gap-4 flex-wrap">
      <select class="border border-gray-300 rounded px-3 py-2 text-sm">
        <option>Secteur : Tous</option>
        <option>Technologie</option>
        <option>Commerce</option>
        <option>Services</option>
      </select>
      <select class="border border-gray-300 rounded px-3 py-2 text-sm">
        <option>Statut : Tous</option>
        <option>Active</option>
        <option>Suspendue</option>
        <option>En attente</option>
      </select>
    </div>

    <button class="bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 text-sm">
      + Ajouter une entreprise
    </button>
  </div>

  <!-- Tableau des entreprises -->
  {% set entreprises = [
    {
      'nom': 'Google',
      'siret': '123 456 789 00010',
      'secteur': 'Technologie',
      'statut': 'Active',
      'date_creation': '2020-06-15',
      'action': 'Modifier'
    },
    {
      'nom': 'Carrefour',
      'siret': '987 654 321 00022',
      'secteur': 'Commerce',
      'statut': 'Suspendue',
      'date_creation': '2018-03-10',
      'action': 'Modifier'
    },
    {
      'nom': 'AXA Assurances',
      'siret': '456 789 123 00033',
      'secteur': 'Services',
      'statut': 'Active',
      'date_creation': '2019-11-01',
      'action': 'Modifier'
    },
    {
      'nom': 'StartupX',
      'siret': '321 654 987 00044',
      'secteur': 'Technologie',
      'statut': 'En attente',
      'date_creation': '2025-01-20',
      'action': 'Modifier'
    }
  ] %}

  <table class="min-w-full text-sm text-left">
    <thead class="bg-gray-100 text-gray-600 uppercase">
      <tr>
        <th class="px-4 py-2">Nom</th>
        <th class="px-4 py-2">ID</th>
        <th class="px-4 py-2">Secteur</th>
        <th class="px-4 py-2">Statut</th>
        <th class="px-4 py-2">Date de cr√©ation</th>
        <th class="px-4 py-2">Actions</th>
      </tr>
    </thead>
    <tbody>
      {% for e in entreprises %}
        <tr class="border-t">
          <td class="px-4 py-2 font-medium">{{ e.nom }}</td>
          <td class="px-4 py-2">{{ e.siret }}</td>
          <td class="px-4 py-2">{{ e.secteur }}</td>
          <td class="px-4 py-2">
            {% set color = 'gray' %}
            {% if e.statut == 'Active' %}
              {% set color = 'green' %}
            {% elseif e.statut == 'Suspendue' %}
              {% set color = 'red' %}
            {% elseif e.statut == 'En attente' %}
              {% set color = 'yellow' %}
            {% endif %}
            <span class="bg-{{ color }}-100 text-{{ color }}-800 text-xs px-2 py-1 rounded-full">{{ e.statut }}</span>
          </td>
          <td class="px-4 py-2">{{ e.date_creation }}</td>
          <td class="px-4 py-2">
            <button class="bg-indigo-600 text-white px-3 py-1 rounded text-xs hover:bg-indigo-700">{{ e.action }}</button>
          </td>
        </tr>
      {% endfor %}
    </tbody>
  </table>
{% endblock %}
